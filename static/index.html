<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Talking Orca Assistant</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

    <div class="ripple"></div>

    <!-- Configuration Button -->
    <button id="configBtn" class="config-btn" title="Configure API Keys">
        ‚öôÔ∏è
    </button>

    <!-- API Key Configuration Modal -->
    <div id="configModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üîë API Key Configuration</h2>
                <button id="closeModal" class="close-btn">√ó</button>
            </div>
            
            <div class="modal-body">
                <div class="api-key-section">
                    <label for="murfKey">Murf AI API Key</label>
                    <input type="password" id="murfKey" placeholder="Enter your Murf API key">
                    <small>Required for text-to-speech functionality</small>
                </div>

                <div class="api-key-section">
                    <label for="assemblyKey">AssemblyAI API Key</label>
                    <input type="password" id="assemblyKey" placeholder="Enter your AssemblyAI API key">
                    <small>Required for speech-to-text functionality</small>
                </div>

                <div class="api-key-section">
                    <label for="geminiKey">Google Gemini API Key</label>
                    <input type="password" id="geminiKey" placeholder="Enter your Gemini API key">
                    <small>Required for AI responses</small>
                </div>

                <div class="api-key-section">
                    <label for="tavilyKey">Tavily API Key</label>
                    <input type="password" id="tavilyKey" placeholder="Enter your Tavily API key">
                    <small>Optional - for web search functionality</small>
                </div>

                <div class="api-key-section">
                    <label for="weatherKey">Weather API Key</label>
                    <input type="password" id="weatherKey" placeholder="Enter your WeatherAPI.com key">
                    <small>Optional - for weather information</small>
                </div>
            </div>

            <div class="modal-footer">
                <button id="clearKeys" class="btn btn-secondary">Clear All</button>
                <button id="saveKeys" class="btn btn-primary">Save Configuration</button>
            </div>
        </div>
    </div>

    <div class="center-header">
        <div class="title">üåä I'm your Voice Assistant Orca üåä</div>
        <div id="avatar" class="orca">
            <div class="belly"></div>
            <div class="eye" id="orcaEye"></div>
            <div class="fin"></div>
            <div class="tail"></div>
            <div class="flipper"></div>
            <div class="mouth-wave"></div>
        </div>
    </div>

    <div id="conversationalUI">
        <button id="startAndstopBtn">
            <div class="record-icon"></div>
        </button>

        <div id="loading">Processing...</div>
        
        <div id="chat-log" aria-live="polite" aria-atomic="true"></div>
    </div>

    <div class="bubble" style="left: 10%; animation-delay: 0s;"></div>
    <div class="bubble" style="left: 20%; animation-delay: 2s;"></div>
    <div class="bubble" style="left: 50%; animation-delay: 1s;"></div>
    <div class="bubble" style="left: 70%; animation-delay: 3s;"></div>
    <div class="bubble" style="left: 90%; animation-delay: 4s;"></div>

    <script src="/static/script.js"></script>

    <!-- Murf Branding -->
    <div class="murf-branding">
        <a href="https://murf.ai/api/docs/introduction/overview" target="_blank">
            Powered by Murf
        </a>
    </div>

</body>
</html>